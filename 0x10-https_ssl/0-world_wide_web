#!/usr/bin/env bash

# Function to display subdomain information
display_info() {
    local domain="$1"
    local subdomain="$2"
    local record_type
    local destination

    if [ "$subdomain" == "www" ]; then
        record_type="CNAME"
        destination="lb-01"
    elif [ "$subdomain" == "lb-01" ]; then
        record_type="A"
        destination="lb-01"
    elif [ "$subdomain" == "web-01" ]; then
        record_type="A"
        destination="web-01"
    elif [ "$subdomain" == "web-02" ]; then
        record_type="A"
        destination="web-02"
    else
        echo "Unknown subdomain: $subdomain"
        return 1
    fi

    echo "The subdomain $subdomain is a $record_type record and points to $destination"
}

# Check if Shellcheck case SC2086 is ignored
# shellcheck disable=SC2086

# Main script
if [ $# -lt 1 ]; then
    echo "Usage: $0 <domain> [subdomain]"
    exit 1
fi

domain="$1"
subdomain="$2"

if [ -z "$subdomain" ]; then
    # Display information for default subdomains
    display_info "$domain" www
    display_info "$domain" lb-01
    display_info "$domain" web-01
    display_info "$domain" web-02
else
    # Display information for the specified subdomain
    display_info "$domain" "$subdomain"
fi

